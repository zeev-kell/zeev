!function(e){"use strict";e.module("vBusy",["vBusy.config","vBusy.directives"]),e.module("vBusy.directives",[]).directive("vBusyClick",["buttonConfig","$log","$q","$parse",function(s,t,n,i){return{restrict:"AE",scope:{isBusy:"=?vBusy",busyLabel:"@vBusyLabel",busyText:"@vBusyText"},require:["^?form"],compile:function(u,o){var l=e.element(u.find("span"));return l[0]||(u.html("<span>"+u.html()+"</span>"),l=e.element(u.find("span"))),function(e,u,r,a){function c(){return e.isBusy?(t.log("isBusy:"+e.isBusy),!0):void("submit"==r.type&&a&&a[0]?a[0].$valid?(e.isBusy=!0,n.resolve(i(r.vBusyClick)(e.$parent)).finally(function(){e.isBusy=!1})):t.log("FormCtrl:"+a[0].$valid):(e.isBusy=!0,n.resolve(i(r.vBusyClick)(e.$parent)).finally(function(){e.isBusy=!1})))}var y=l.html(),d=e.busyLabel||s.busyLabel,f=e.busyText;e.$watch("isBusy",function(e){e?(u.addClass(s.states.busy),l.html(d)):(u.removeClass(s.states.busy),l.html(f||y))}),u.on("click",c),o.$observe("vBusyLabel",function(e){d=e}),o.$observe("vBusyText",function(e){f=e})}}}}]).directive("vPressable",["$document","buttonConfig",function(s,t){return{restrict:"A",link:function(n,i){function u(t,n){var u,o,l=i[0].getBoundingClientRect(),r=i[0].querySelector("v-ripple");e.element(r).remove(),r=s[0].createElement("v-ripple"),r.style.height=r.style.width=Math.max(l.width,l.height)+"px",i.append(r),o=t-l.left-r.offsetWidth/2-y[0].scrollLeft,u=n-l.top-r.offsetHeight/2-y[0].scrollTop,r.style.left=o+"px",r.style.top=u+"px"}function o(e){u(e.pageX,e.pageY),i.attr("isPressed")&&i.addClass(t.states.pressed),y.bind(c,l)}function l(e){i.attr("isPressed")&&i.removeClass(t.states.pressed),y.unbind(c,l)}var r=!("undefined"==typeof s[0].documentElement.ontouchstart),a=r?"touchstart":"mousedown",c=r?"touchend":"mouseup",y=e.element(s[0].body);i.bind(a,o)}}}]),e.module("vBusy.config",[]).constant("buttonConfig",{busyLabel:"Loading",states:{busy:"is-busy",pressed:"is-pressed"}})}(angular);